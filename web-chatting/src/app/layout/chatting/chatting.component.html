<!-- chating_wrap  chating_room_open friend_list_open -->
<div id="chating_wrap" class="friend_list_open">

  <!-- friend_list 친구목록 -->
  <div class="chating_list friend_list">

    <!-- top_close_area -->
    <div class="top_close_area">
      <div class="top_tit_box">
        <strong class="top_tit">듀플 친구들</strong>
        <button type="button" class="top_close" onclick="parent.chatingFriendList()">닫기</button>
      </div>
    </div>
    <!-- //top_close_area -->

    <!-- scroll_box -->
    <div class="scroll_box">
      <div class="chating_tab">
        <ul>
          <li class="active"><button type="button" data-tab="chating_tab_01">친구목록</button></li><!-- 맨 처음 tab의 li 에 active 선언 필요 -->
          <li class=""><button type="button" data-tab="chating_tab_02">룸이용자</button></li>
        </ul>
        <div class="total">
          <p class="fri">친구 : <strong>4명</strong></p>
          <span class="slash">/</span>
          <p class="tot">총 <strong>6</strong>명</p>
        </div>
      </div>
      <div class="chating_tab_area">
        <!-- 친구목록 tab -->
        <div id="chating_tab_01" class="tab_cont active"><!-- 맨 처음 .tab_cont active 선언 필요 / 데이터없음 no_data_on 추가, 데이터없음 삭제할 시 no_data_on 삭제 -->

          <!-- 데이터 없을 때 :: .tab_cont 에 더블 클레스로 no_data_on 추가해줘야 뜸. -->
          <div class="no_data">
            <div class="no_data_cell">
              <strong class="tit">친구 목록이 없습니다.</strong>
            </div>
          </div>
          <!-- //데이터 없을 때 -->

          <!-- chating_list_cont -->
          <div class="chating_list_cont">
            <!-- list -->
            <div class="list">
              <div class="left">
                <div class="img_box">
                  <div class="img_bg" style="background-image:url(my_profile.png)">
                    <img src="my_profile.png" alt="내 프로필 사진">
                  </div>
                </div>
                <div class="cont">
                  <p>
                    <span class="on">ON</span>
                    <span class="fri_name">나야나</span>
                  </p>
                  <p><span class="fri_status">매니저</span></p>
                </div>
              </div>
              <div class="list_btns">
                <button type="button" class="chat_talk chating_room_on_btn">1:1대화하기</button>
                <button type="button" class="chat_delete">친구 삭제하기</button>
              </div>
            </div><!-- //list -->
            <!-- list -->
            <div class="list">
              <div class="left">
                <div class="img_box">
                  <div class="img_bg" style="background-image:url(my_profile.png)">
                    <img src="my_profile.png" alt="내 프로필 사진">
                  </div>
                </div>
                <div class="cont">
                  <p>
                    <span class="on">ON</span>
                    <span class="fri_name">나야나</span>
                  </p>
                  <p><span class="fri_status">친구</span></p>
                </div>
              </div>
              <div class="list_btns">
                <button type="button" class="chat_follow" onclick="layerClickOpenM('basics_pop');">따라가기</button>
                <button type="button" class="chat_invit invite_on_btn">초대하기</button>
                <button type="button" class="chat_delete">친구 삭제하기</button>
              </div>
            </div><!-- //list -->
            <!-- list -->
            <div class="list">
              <div class="left">
                <div class="img_box">
                  <div class="img_bg" style="background-image:url(my_profile.png)">
                    <img src="my_profile.png" alt="내 프로필 사진">
                  </div>
                </div>
                <div class="cont">
                  <p>
                    <span class="on">ON</span>
                    <span class="fri_name">나야나</span>
                  </p>
                  <p><span class="fri_status">매니저 / 발표자</span></p>
                </div>
              </div>
              <div class="list_btns">
                <button type="button" class="chat_talk chating_room_on_btn">1:1대화하기</button>
                <button type="button" class="chat_delete">친구 삭제하기</button>
              </div>
            </div><!-- //list -->
            <!-- list -->
            <div class="list">
              <div class="left">
                <div class="img_box">
                  <div class="img_bg" style="background-image:url(my_profile.png)">
                    <img src="my_profile.png" alt="내 프로필 사진">
                  </div>
                </div>
                <div class="cont">
                  <p>
                    <span class="off">OFF</span>
                    <span class="fri_name">나야나나야나</span>
                  </p>
                  <p><span class="fri_status">친구 / 다른룸 이용중</span></p>
                </div>
              </div>
              <div class="list_btns">
                <button type="button" class="chat_talk chating_room_on_btn">1:1대화하기</button>
                <button type="button" class="chat_delete">친구 삭제하기</button>
              </div>
            </div><!-- //list -->
          </div><!-- chating_list_cont -->

        </div><!-- //친구목록 tab  -->

        <!-- 룸이용자 tab -->
        <app-meta-room-users></app-meta-room-users>
        <!-- //룸이용자 tab -->

      </div><!-- //chating_tab_area -->
    </div><!-- //scroll_box -->

  </div>
  <!-- //friend_list 친구목록-->


  <!-- chating_room 채팅방 -->
  <div class="chating_room">

    <!-- top_close_area -->
    <div class="top_close_area">
      <div class="top_back_box">
        <!-- chating_room_tab -->
        <div class="chating_room_tab">
          <ul>
            <li #chattingRoomEle [ngClass]="setSelectCls(i)" *ngFor="let obj of channelManSvc?.allChannel; let i = index"
                (click)="channelClick(i);setActiveRoom($event, i)">
              <button type="button" data-tab="chating_room_tab_02"><span>{{i+1}}</span></button>
            </li>
          </ul>
        </div>
        <!-- //chating_room_tab -->
        <button type="button" class="top_close" onclick="parent.chatingRoomIframeWrap()">닫기</button>
      </div><!-- //top_back_box -->
      <div class="top_tit_box">
        <strong class="top_tit">챗팅방 쌤플</strong>
        <button type="button" class="room_delete" onclick="layerClickOpenM('basics_pop');">해당 채팅방 삭제</button>
      </div><!-- //top_tit_box -->
    </div>
    <!-- //top_close_area -->

    <div class="chating_tab_area">
      <!-- 채팅방 tab -->
      <div id="chating_room_tab_01" class="tab_cont active"><!-- 맨 처음 .tab_cont active 선언 필요 -->

        <!-- scroll_box chating_room_people -->
        <div class="scroll_box chating_room_people">
          <div class="people_list" *ngFor="let _user of channelManSvc.members">
            <div class="img_bg" [ngStyle]="setProfileImg(_user.user)">
              <img src="my_profile.png" alt="내 프로필 사진">
            </div>
            <p>{{_user.user.name}}</p>
            <button type="button" class="add_friend" onclick="layerClickOpenM('basics_pop');">친구추가</button>
          </div>
        </div>
        <!-- //scroll_box chating_room_people -->

        <!-- scroll_box chating_room_talk -->
        <div class="scroll_box chating_room_talk">
          <!-- inside_notify 입장알림 -->
          <div class="inside_notify">
            <p>나야나님이 대화방에 입장하였습니다.</p>
          </div>
          <!-- //inside_notify -->
          <ng-container *ngFor="let message of messageManSvc?.messages">
            <ng-container *ngIf="user?.id === message.user.id; else otherPartyBox">
              <!-- my_party_box 내 글 표시 -->
              <div class="my_party_box">
                <div class="row_line">
                  <p class="txt">{{message.text}}</p>
                </div>
              </div>
              <ng-container *ngIf="message.attachFile?.length !== 0">
                <div class="my_party_box">
                  <div class="add_img" *ngFor="let attach of message.attachFile">
                    <a href="javascript:void(0);" (click)="downloadImage(attach.thumb_url, attach.image_name)"><img src="{{attach.thumb_url}}" alt=""></a>
                  </div>
                </div>
              </ng-container>
              <!-- //my_party_box 내 글 표시 -->
            </ng-container>
            <ng-template #otherPartyBox>
              <!-- other_party_box 상대방 글 표시 -->
              <div class="other_party_box">
                <!-- people_list 상대방 프로필 표시 -->
                <div class="people_list">
                  <div class="img_bg" [ngStyle]="setProfileImg(message.user)">
                    <img alt="프로필 사진">
                  </div>
                  <p>{{message.user.name}}</p>
                </div>
                <!-- //people_list 상대방 프로필 표시 -->
                <div class="row_line">
                  <p class="txt">{{message.text}}</p>
                </div>
                <ng-container *ngIf="message.attachments.length !== 0">
                  <div class="row_line">
                    <div class="add_img" *ngFor="let attach of message.attachments">
                      <a href="javascript:void(0);"><img src="{{attach.thumb_url}}" alt=""></a>
                    </div>
                  </div>
                </ng-container>
              </div>
              <!-- //other_party_box 상대방 글 표시 -->
            </ng-template>
          </ng-container>
        </div>
        <!-- //scroll_box chating_room_talk -->

        <!-- talk_send_box -->
        <div class="talk_send_box">
          <div class="talk_send_more_btn">
            <button type="button" class="label">선택하기</button>
            <ul>
              <li><button type="button">친구추가</button></li>
              <li><button type="button">내보내기</button></li>
              <li>
                <div class="upload_box">
                  <input #filesEle id="file_upload" type="file" class="btn_upload" (change)="fileChanges()" required>
                  <label for="file_upload" class="btn_file">파일전송</label>
                </div>
              </li>
              <li><button type="button" class="invite_on_btn">대화초대</button></li>
            </ul>
          </div>
          <div class="talk_input">
            <input #textValEle type="text" placeholder="대화를 입력하세요">

            <div class="file_view" *ngIf="visibleFileAttach()">
              <p>
                <button type="button" class="file_delete" (click)="fileAttachDelete()">파일 삭제하기</button>
                {{getFileAttachName()}}
              </p>
            </div>
          </div>
          <button (click)="sendMessage(textValEle.value)" type="button" class="talk_send_btn">보내기</button>
        </div>
        <!-- //talk_send_box -->
      </div>
      <!-- //채팅방 tab -->

      <!-- 채팅방 tab -->
      <div id="chating_room_tab_02" class="tab_cont">
        <!-- scroll_box chating_room_people -->
        <div class="scroll_box chating_room_people">

        </div><!-- //scroll_box chating_room_people -->

        <!-- scroll_box chating_room_talk -->
        <div class="scroll_box chating_room_talk">

        </div>
        <!-- //scroll_box chating_room_talk -->
      </div>
      <!-- //채팅방 tab -->

    </div><!-- //chating_tab_area -->
  </div>
  <!-- //chating_room 채팅방 -->


  <!-- chating_list 초대하기 -->
  <app-invite-frends [user]="user" ></app-invite-frends>
  <!-- //chating_list 초대하기 -->


  <!-- 취소/확인 기본 팝업  -->    <!-- onclick="layerClickOpenM('basics_pop');" -->
  <div id="basics_pop" class="basics_pop popuplayer"><!-- 활성화시 open -->
    <div class="popuplayer_area">
      <div class="tit">
        <button type="button" class="close ri-close-line" onclick="layerClickCloseM('basics_pop');">닫기</button>
      </div>
      <!-- popuplayer_group -->
      <div class="popuplayer_group">
        <div class="finish_box">
          <p class="finish_txt"><strong><em>나야나</em>님이 있는 룸으로<br> 이동합니다.</strong></p>
          <p class="finish_txt"><strong>취소/확인 <em class="blue">기본 팝업</em></strong> 입니다.</p>
        </div>
      </div>
      <!-- //popuplayer_group -->
      <div class="next_view">
        <div class="linkArea linkHalf">
          <button type="button" class="" onclick="layerClickCloseM('basics_pop');">취소</button>
          <button type="button" class="" onclick="layerClickCloseM('basics_pop');">확인</button>
        </div>
      </div><!-- //next_view -->
    </div>
  </div>
  <!-- 확인/취소 기본 팝업 -->

</div>
<!-- //chating_wrap -->

<!--<div style="display: flex; align-content: center; justify-content: center">-->
<!--  <button  *ngFor="let obj of channels; let i = index" (click)="channelClick(obj)" style="width: 50px; height: 50px" type="button">{{i+1}}</button>-->
<!--</div>-->
<!--<strong class="top_tit">{{setChannelName()}}</strong>-->
<!--<div  *ngFor="let _user of channelMembers">-->
<!--  <p>{{_user.user.name}}</p>-->
<!--</div>-->
<!--<div style="background-color: #0B4992; width: 100%; height: 500px;">-->
<!--  <div style="display: flex; flex-direction: column" *ngFor="let message of messages">-->
<!--    <div style="display: flex;">-->
<!--      <strong>{{message.user.name}}</strong>-->
<!--      <div class="img_bg" [ngStyle]="setProfileImg(message.user)">-->
<!--        <img src="/assets/chating/my_profile.png" alt="내 프로필 사진">-->
<!--      </div>-->
<!--    </div>-->
<!--    <div>{{message.text}}</div>-->
<!--  </div>-->
<!--</div>-->
<!--<div style="display: flex">-->
<!--  <input type="file" (change)="attachFile($event)">-->
<!--  <input #textVal style="width: 100%; height: 80px;" type="text">-->
<!--  <button (click)="sendMessage(textVal.value)"> 확인 </button>-->
<!--</div>-->
